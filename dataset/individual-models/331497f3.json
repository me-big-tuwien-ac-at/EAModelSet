{"id":"331497f3","name":"10 Money","documentation":"","file":"../../raw-data/github/archimate/Money.archimate","format":"ARCHIMATE","source":"","timestamp":"15-06-2023 04:10:54","tags":[],"archiVersion":"4.0.0","language":"","elements":[{"id":"21fb2ce3","name":"class money","type":"ApplicationComponent","layer":"application","documentation":""},{"id":"aba25289","name":"amount LONG","type":"DataObject","layer":"application","documentation":""},{"id":"7ed92f97","name":"REF to currency","type":"DataObject","layer":"application","documentation":""},{"id":"f2abd58e","name":"+ (money object)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"1d08ac9a","name":"- (money object)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"3cb65afe","name":"* (bigdecimal, rounding mode)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"65841406","name":"allocate(proportions X:Y:Z)","type":"ApplicationFunction","layer":"application","documentation":"class Money... \r\n\r\n   public Money[] allocate(int n) {\r\n      Money lowResult = newMoney(amount / n);\r\n      Money highResult = newMoney(lowResult.amount + 1);\r\n      Money[] results = new Money[n];\r\n      int remainder = (int) amount % n;\r\n      for (int i = 0; i < remainder; i++) results[i] = highResult;\r\n      for (int i = remainder; i < n; i++) results[i] = lowResult;\r\n      return results;\r\n   }\r\n\r\nБолее сложный алгоритм распределения может поделить деньги в любой заданной пропорции.\r\n\r\nclass Money... \r\n\r\n   public Money[] allocate(long[] ratios) {\r\n      long total = 0;\r\n      for (int i = 0; i < ratios.length; i++) total += ratios[i];\r\n      long remainder = amount;\r\n      Money[] results = new Money[ratios.length];\r\n      for (int i = 0; i < results.length; i++) {\r\n         results[i] = newMoney(amount * ratios[i] / total);\r\n         remainder -= results[i].amount;\r\n      }\r\n      for (int i = 0; i < remainder; i++) {\r\n         results[i].amount++;\r\n      }\r\n      return results;\r\n   }\r\n\r\nДанный алгоритм можно применить для решения задачки Мэтью Фоммела (Matthew Foemmel).\r\n\r\nclass Money... \r\n\r\n   public void testAllocate2() {\r\n      long[] allocation = {3,7};\r\n      Money[] result = Money.dollars(0.05).allocate(allocation);\r\n      assertEquals(Money.dollars(0.02), result[0]);\r\n      assertEquals(Money.dollars(0.03), result[1]);\r\n   }"},{"id":"c0338fec","name":">","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"ba5e9d70","name":"<","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"98c75c3d","name":">=","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"4001b3a0","name":"<=","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"b64ba578","name":"=","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"36132d44","name":"Application Process","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"34328e8c","name":"money left over after rounding distributed between all parts of the proportion $:$:$ of randomly","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"19f9348a","name":"return $,$,$","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"312f0e35","name":" find $,$,$                        where    $:$:$=X:Y:Z             and  $+$+$=amount ","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"f81b343d","name":"class currency","type":"ApplicationComponent","layer":"application","documentation":""},{"id":"39fe1275","name":"get default fraction digits","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"dc9d47db","name":"currency","type":"DataObject","layer":"application","documentation":""},{"id":"31e83fad","name":"construnctor (amount, currency obj)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"96001353","name":"amount *10^currencyObj.getDefaultFractionDigits","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"8d2aee58","name":"fabric for dollars (amount)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"7ec0541c","name":"return Money(amount, Currency.USD)","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"ffe5adda","name":"equals (some object)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"3a83d854","name":"equals (money object)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"0ba19a9b","name":"validate that object of Money type","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"94ae56d1","name":"some object EQUAL this","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"0517fd9a","name":"validate that  object.currency EQUAL this.currency","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"48d26aba","name":"validate that  object.amount == this.amount","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"5f781f9e","name":"hashCode ()","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"4cf8022b","name":"return (int) (amount ^ (amount >>> 32))","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"c19c7fd3","name":"check that the money in the same currency","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"596e2af0","name":"return Money (this.amount +moneyObj.amount)","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"fe93d6dd","name":"check that the money in the same currency","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"2bb210fc","name":"return Money (this.amount - moneyObj.amount )","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"9446333b","name":"check that the money in the same currency","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"8a5a6c74","name":"return Money (this.amount *moneyObj.amount, currency,rounding mode) ","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"74e410f7","name":"Currency Converter","type":"ApplicationComponent","layer":"application","documentation":""},{"id":"1723971b","name":"compare (some object)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"9f683978","name":"compare (money object)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"e1a642d8","name":"call","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"76bfbc4b","name":"check that the money in the same currency","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"81f6e521","name":"if this.amount>object.amount","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"5ce7b2ee","name":"return true","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"0daaebae","name":"else return false","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"c7d49d32-2acf-46ef-8917-42b7e960396e","name":"amount()","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"10fd17f6-eae9-4cd6-8431-9379dc0e633e","name":"return amount *10^(-currencyObj.getDefaultFractionDigits)","type":"ApplicationProcess","layer":"application","documentation":""}],"relationships":[{"id":"da43ca9e","sourceId":"21fb2ce3","targetId":"aba25289","type":"AccessRelationship","name":"","documentation":""},{"id":"d47aa070","sourceId":"21fb2ce3","targetId":"7ed92f97","type":"AccessRelationship","name":"","documentation":""},{"id":"cfa73f61","sourceId":"21fb2ce3","targetId":"f2abd58e","type":"AssignmentRelationship","name":"","documentation":""},{"id":"6e07808d","sourceId":"21fb2ce3","targetId":"1d08ac9a","type":"AssignmentRelationship","name":"","documentation":""},{"id":"124362ab","sourceId":"21fb2ce3","targetId":"3cb65afe","type":"AssignmentRelationship","name":"","documentation":""},{"id":"a706f368","sourceId":"21fb2ce3","targetId":"65841406","type":"AssignmentRelationship","name":"","documentation":""},{"id":"0570a2bf","sourceId":"21fb2ce3","targetId":"c0338fec","type":"AssignmentRelationship","name":"","documentation":""},{"id":"5379fb17","sourceId":"21fb2ce3","targetId":"ba5e9d70","type":"AssignmentRelationship","name":"","documentation":""},{"id":"232eef49","sourceId":"21fb2ce3","targetId":"98c75c3d","type":"AssignmentRelationship","name":"","documentation":""},{"id":"bdee38ce","sourceId":"21fb2ce3","targetId":"4001b3a0","type":"AssignmentRelationship","name":"","documentation":""},{"id":"395c970a","sourceId":"21fb2ce3","targetId":"b64ba578","type":"AssignmentRelationship","name":"","documentation":""},{"id":"916a7630","sourceId":"65841406","targetId":"36132d44","type":"CompositionRelationship","name":"","documentation":""},{"id":"d3182254","sourceId":"65841406","targetId":"34328e8c","type":"CompositionRelationship","name":"","documentation":""},{"id":"dae596a7","sourceId":"65841406","targetId":"19f9348a","type":"CompositionRelationship","name":"","documentation":""},{"id":"7d4d3022","sourceId":"65841406","targetId":"312f0e35","type":"CompositionRelationship","name":"","documentation":""},{"id":"45930da5","sourceId":"f81b343d","targetId":"39fe1275","type":"AssignmentRelationship","name":"","documentation":""},{"id":"2b2c1f23","sourceId":"7ed92f97","targetId":"f81b343d","type":"AssociationRelationship","name":"","documentation":""},{"id":"e3e56127","sourceId":"f81b343d","targetId":"dc9d47db","type":"AccessRelationship","name":"","documentation":""},{"id":"314aca76","sourceId":"21fb2ce3","targetId":"31e83fad","type":"AssignmentRelationship","name":"","documentation":""},{"id":"9aef9514","sourceId":"31e83fad","targetId":"96001353","type":"CompositionRelationship","name":"","documentation":""},{"id":"50a0c84c","sourceId":"96001353","targetId":"39fe1275","type":"TriggeringRelationship","name":"","documentation":""},{"id":"60a1152a","sourceId":"21fb2ce3","targetId":"8d2aee58","type":"AssignmentRelationship","name":"","documentation":""},{"id":"b20e4fc7","sourceId":"8d2aee58","targetId":"7ec0541c","type":"CompositionRelationship","name":"","documentation":""},{"id":"ca99e40e","sourceId":"7ec0541c","targetId":"31e83fad","type":"TriggeringRelationship","name":"","documentation":""},{"id":"3338c4e7","sourceId":"21fb2ce3","targetId":"ffe5adda","type":"AssignmentRelationship","name":"","documentation":""},{"id":"8582dc4e","sourceId":"21fb2ce3","targetId":"3a83d854","type":"AssignmentRelationship","name":"","documentation":""},{"id":"5806bfa4","sourceId":"ffe5adda","targetId":"0ba19a9b","type":"CompositionRelationship","name":"","documentation":""},{"id":"f6e84fe0","sourceId":"ffe5adda","targetId":"94ae56d1","type":"CompositionRelationship","name":"","documentation":""},{"id":"20f5617b","sourceId":"94ae56d1","targetId":"3a83d854","type":"TriggeringRelationship","name":"","documentation":""},{"id":"6e90b884","sourceId":"3a83d854","targetId":"0517fd9a","type":"CompositionRelationship","name":"","documentation":""},{"id":"7e5c833b","sourceId":"3a83d854","targetId":"48d26aba","type":"CompositionRelationship","name":"","documentation":""},{"id":"4c794baa","sourceId":"21fb2ce3","targetId":"5f781f9e","type":"AssignmentRelationship","name":"","documentation":""},{"id":"6efea019","sourceId":"5f781f9e","targetId":"4cf8022b","type":"CompositionRelationship","name":"","documentation":""},{"id":"76072d6d","sourceId":"f2abd58e","targetId":"c19c7fd3","type":"CompositionRelationship","name":"","documentation":""},{"id":"ad0c0c31","sourceId":"f2abd58e","targetId":"596e2af0","type":"CompositionRelationship","name":"","documentation":""},{"id":"a7c59f5a","sourceId":"1d08ac9a","targetId":"fe93d6dd","type":"CompositionRelationship","name":"","documentation":""},{"id":"10720e9a","sourceId":"1d08ac9a","targetId":"2bb210fc","type":"CompositionRelationship","name":"","documentation":""},{"id":"263047da","sourceId":"3cb65afe","targetId":"9446333b","type":"CompositionRelationship","name":"","documentation":""},{"id":"a447baef","sourceId":"3cb65afe","targetId":"8a5a6c74","type":"CompositionRelationship","name":"","documentation":""},{"id":"fae8c7eb","sourceId":"21fb2ce3","targetId":"1723971b","type":"AssignmentRelationship","name":"","documentation":""},{"id":"315d2698","sourceId":"21fb2ce3","targetId":"9f683978","type":"AssignmentRelationship","name":"","documentation":""},{"id":"d09e187b","sourceId":"1723971b","targetId":"e1a642d8","type":"CompositionRelationship","name":"","documentation":""},{"id":"00b2568b","sourceId":"e1a642d8","targetId":"9f683978","type":"TriggeringRelationship","name":"","documentation":""},{"id":"8769bb04","sourceId":"9f683978","targetId":"76bfbc4b","type":"CompositionRelationship","name":"","documentation":""},{"id":"67ca0c56","sourceId":"9f683978","targetId":"81f6e521","type":"CompositionRelationship","name":"","documentation":""},{"id":"fdb654ff","sourceId":"81f6e521","targetId":"5ce7b2ee","type":"CompositionRelationship","name":"","documentation":""},{"id":"d79a6718","sourceId":"81f6e521","targetId":"0daaebae","type":"CompositionRelationship","name":"","documentation":""},{"id":"8a6e74e2","sourceId":"c0338fec","targetId":"9f683978","type":"TriggeringRelationship","name":"","documentation":""},{"id":"748e0945","sourceId":"ba5e9d70","targetId":"9f683978","type":"TriggeringRelationship","name":"","documentation":""},{"id":"ee315675","sourceId":"21fb2ce3","targetId":"9f683978","type":"TriggeringRelationship","name":"","documentation":""},{"id":"d9862f9d","sourceId":"4001b3a0","targetId":"9f683978","type":"TriggeringRelationship","name":"","documentation":""},{"id":"0ecdd05f","sourceId":"98c75c3d","targetId":"9f683978","type":"TriggeringRelationship","name":"","documentation":""},{"id":"600181f3-8d05-4fc6-b52a-43deb22c56fb","sourceId":"c7d49d32-2acf-46ef-8917-42b7e960396e","targetId":"10fd17f6-eae9-4cd6-8431-9379dc0e633e","type":"CompositionRelationship","name":"","documentation":""},{"id":"24e19d51-4c57-4234-9541-75e62491e300","sourceId":"10fd17f6-eae9-4cd6-8431-9379dc0e633e","targetId":"39fe1275","type":"TriggeringRelationship","name":"","documentation":""}],"views":[{"id":"9db917b5","name":"Money","viewpoint":"","documentation":""}]}