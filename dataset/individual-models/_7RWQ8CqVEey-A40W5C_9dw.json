{"id":"_7RWQ8CqVEey-A40W5C_9dw","name":"buhService","documentation":"","file":"../../raw-data/genmymodel/_7RWQ8CqVEey-A40W5C_9dw.xml","format":"XML","source":"","timestamp":"15-06-2023 03:29:06","tags":[],"archiVersion":"","language":"en","elements":[{"id":"_v81U0AzKEDqz_MblWIxtOg","name":"Кредит  Магазин- Дебит \"CloudPayments\"Сумма - 100Тип - Оплата товара клиентомВалюта  - ТенгеExID CP-ID-1","type":"DataObject","layer":"application","documentation":""},{"id":"_NIyc8A1gEDqz_MblWIxtOg","name":"Кредит \"CloudPayments\"Дебит МагазинCумма - 100Тип - Отправка средств мерчуВалюта ТенгеExID CP-ID-1","type":"DataObject","layer":"application","documentation":""},{"id":"_29vPsA1iEDqz_MblWIxtOg","name":"Кредит \"Магазин\"Дебит \"брискли\"Сумма 9Тип - Коммисия брисклиВалюта тенгеExID CP-ID-1","type":"DataObject","layer":"application","documentation":""},{"id":"_VYo5oA1oEDqz_MblWIxtOg","name":"Оплата клиентом товара \"Магазина\"Сумма: 100 тенгеПлатформа: СРExternal ID Transaction: CP-ID-1","type":"BusinessService","layer":"business","documentation":""},{"id":"_AF_P0A1yEDqz_MblWIxtOg","name":"Event","type":"ApplicationEvent","layer":"application","documentation":""},{"id":"_oEVrUA2KEDqz_MblWIxtOg","name":"Оплата клиентом товара \"The Dragstore\"Сумма: 100 USDПлатформа: STRIPEExternal ID Transaction: ST-ID-1Платеж делится на части:94$ уходит магазину, 6; на аккаунт брискли и с этих 6; еще коммисия сервиса","type":"BusinessService","layer":"business","documentation":""},{"id":"_3u9KEA2KEDqz_MblWIxtOg","name":"Оплата клиентом товара \"Магазина\"Сумма: 100 тенгеПлатформа: СРExternal ID Transaction: CP-ID-1","type":"BusinessService","layer":"business","documentation":""},{"id":"_uoWpkA2YEDqz_MblWIxtOg","name":"Event","type":"ApplicationEvent","layer":"application","documentation":""},{"id":"_BeSNwA2ZEDqz_MblWIxtOg","name":"Кредит: StripeДебит: The DragstoreСумма: 94$Тип: Оплата товара клиентомВалюта: USDExID: ST-ID-1","type":"DataObject","layer":"application","documentation":""},{"id":"_BAMuIA2aEDqz_MblWIxtOg","name":"Кредит: StripeДебит: БрисклиСумма: 6$Тип: Коммисия брисклиВалюта: USDExID: ST-ID-1","type":"DataObject","layer":"application","documentation":""},{"id":"_UV_eIA2aEDqz_MblWIxtOg","name":"Кредит: БрисклиДебит: StripeСумма: 5.6$Тип: Коммисия страйпа за платежВалюта: USDExID: ST-ID-1","type":"ApplicationEvent","layer":"application","documentation":""},{"id":"_WZSyoA2aEDqz_MblWIxtOg","name":"Кредит: БрисклиДебит: StripeСумма: 5.6$Тип: Коммисия страйпа за платежВалюта: USDExID: ST-ID-1","type":"ApplicationEvent","layer":"application","documentation":""},{"id":"_aPzKIA2aEDqz_MblWIxtOg","name":"Кредит: БрисклиДебит: StripeСумма: 5.6$Тип: Коммисия страйпа за платежВалюта: USDExID: ST-ID-1","type":"DataObject","layer":"application","documentation":""},{"id":"_h3DPYA2aEDqz_MblWIxtOg","name":"Кредит: StripeДебит: БрисклиСумма: 5.6$Тип: Коммисия страйпа за платежВалюта: USDExID: ST-ID-1","type":"DataObject","layer":"application","documentation":""},{"id":"_lrGd4A2cEDqz_MblWIxtOg","name":"Перевод средст с аккаунта страйпа на счет брисклиСумма: 100 USDПлатформа: STRIPEExternal ID Transaction: ST-ID-2Возможна комиссия","type":"BusinessService","layer":"business","documentation":""},{"id":"_iu4H4A2dEDqz_MblWIxtOg","name":"Event","type":"ApplicationEvent","layer":"application","documentation":""},{"id":"_riJUUA2dEDqz_MblWIxtOg","name":"Кредит: BrisklyДебит: StripeСумма: 99$Тип: Вывод средст на счет брисклиВалюта: USDExID: ST-ID-2","type":"DataObject","layer":"application","documentation":""},{"id":"_BZTN0A2eEDqz_MblWIxtOg","name":"Кредит: StripeДебит: BrisklyСумма: 1$Тип: Коммисия за вывод средствВалюта: USDExID: ST-ID-2","type":"DataObject","layer":"application","documentation":""},{"id":"_HwrRQA47EDq7DoulV38TMA","name":"Pay Event","type":"ApplicationEvent","layer":"application","documentation":""},{"id":"_f1PdgA47EDq7DoulV38TMA","name":"Process","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"_sYJkcA47EDq7DoulV38TMA","name":"Pub/Sub Service","type":"TechnologyService","layer":"technology","documentation":""},{"id":"_z3C-8A47EDq7DoulV38TMA","name":"External Service","type":"Grouping","layer":"other","documentation":""},{"id":"_0-ngcA46EDq7DoulV38TMA","name":"Service PCI DSS","type":"ApplicationService","layer":"application","documentation":""},{"id":"_4J238A47EDq7DoulV38TMA","name":"Payment Service","type":"ApplicationService","layer":"application","documentation":""},{"id":"_9AB8sA47EDq7DoulV38TMA","name":"Buh Service","type":"Grouping","layer":"other","documentation":""},{"id":"_Kcqg8A48EDq7DoulV38TMA","name":"Subscriber Service","type":"ApplicationService","layer":"application","documentation":""},{"id":"_yTE1UA48EDq7DoulV38TMA","name":"Process","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"_8bRNUA48EDq7DoulV38TMA","name":"Сохранение информации о полученом событии","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"_RiKukA49EDq7DoulV38TMA","name":"Проверка на дублирование события","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"_ZfWnkA49EDq7DoulV38TMA","name":"Проверка события. Оно не должно быть обработаным или обрабытваться уже другим процессом","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"_n3nGkA49EDq7DoulV38TMA","name":"Сбор необходимой информации на основе данных события","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"_5Gd_QA49EDq7DoulV38TMA","name":"Формирование записей в сервис","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"_7JKPwA49EDq7DoulV38TMA","name":"Кредит-Дебит","type":"DataObject","layer":"application","documentation":""},{"id":"_OPlHAA4-EDq7DoulV38TMA","name":"EventDispatcher","type":"ApplicationService","layer":"application","documentation":""},{"id":"_S6A10A4-EDq7DoulV38TMA","name":"Confirmation Event","type":"ApplicationEvent","layer":"application","documentation":""},{"id":"_ePv_AA4-EDq7DoulV38TMA","name":"Сервис контроля доставки и обработки события","type":"ApplicationService","layer":"application","documentation":""},{"id":"_TA0_oA_XEDq7DoulV38TMA","name":"Кредит CloudPayments - Дебит \"Брискли\"Сумма - 1Тип - Комиссия ср за транзакциюВалюта  - РубльExID CP-ID-1","type":"DataObject","layer":"application","documentation":""},{"id":"_oFJ8wCXKEDqeZsBuoz9wnQ","name":"Event Bus RabbitMQ","type":"ApplicationCollaboration","layer":"application","documentation":""},{"id":"_qI5WICXKEDqeZsBuoz9wnQ","name":"Events Pay","type":"ApplicationComponent","layer":"application","documentation":""},{"id":"_Wzk1UCXMEDqeZsBuoz9wnQ","name":"Subscriber","type":"ApplicationComponent","layer":"application","documentation":""},{"id":"_ltJcMCXNEDqeZsBuoz9wnQ","name":"Queue (допустимо логальная очередь в рамках инстанса приложения)","type":"ApplicationCollaboration","layer":"application","documentation":""},{"id":"_rfGMsCXNEDqeZsBuoz9wnQ","name":"","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"_tOaOMCXNEDqeZsBuoz9wnQ","name":"Event Pay Worker","type":"ApplicationService","layer":"application","documentation":""},{"id":"_BjgCkCXPEDqeZsBuoz9wnQ","name":"Проверка на индепотентность","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"_GcYdECXPEDqeZsBuoz9wnQ","name":"Сервис обеспечения индепотентности","type":"ApplicationService","layer":"application","documentation":""},{"id":"_jWs3UCXPEDqeZsBuoz9wnQ","name":"Анализ события и передача в очередь обработки согласно провайдеру платежа","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"_Ha3hwCXTEDqeZsBuoz9wnQ","name":"Queue Provider Workers","type":"ApplicationCollaboration","layer":"application","documentation":""},{"id":"_891FsCXTEDqeZsBuoz9wnQ","name":"Provider worker","type":"ApplicationService","layer":"application","documentation":""},{"id":"_s7ZucCXUEDqeZsBuoz9wnQ","name":"EventDispatcher","type":"ApplicationService","layer":"application","documentation":""},{"id":"_BiQ6MCXUEDqeZsBuoz9wnQ","name":"Проверка что есть блокировка по данному событию","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"_NV2dACXUEDqeZsBuoz9wnQ","name":"Сбор данных по всем плательщикам указанных в событии","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"_U1Rb8CXUEDqeZsBuoz9wnQ","name":"Формирование сущности Transactionhttps://app.genmymodel.com/api/projects/_dTI38EBmEeyo8oS76GR6Gg/diagrams/_dTJfAkBmEeyo8oS76GR6Gg/svg","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"_cF6YACXUEDqeZsBuoz9wnQ","name":"! In TransactionПоследовательное сохранение всех проводок и прочей информации о транзакции","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"_iJ7I4CXUEDqeZsBuoz9wnQ","name":"Снятие блокировки на обработку события","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"_wCmv8CXUEDqeZsBuoz9wnQ","name":"Публикация события о добавлении новой транзакции в сервис","type":"ApplicationFunction","layer":"application","documentation":""}],"relationships":[{"id":"_6Y3tMA47EDq7DoulV38TMA","sourceId":"_4J238A47EDq7DoulV38TMA","targetId":"_HwrRQA47EDq7DoulV38TMA","type":"Triggering","name":"","documentation":""},{"id":"_gHs0kA49EDq7DoulV38TMA","sourceId":"_Kcqg8A48EDq7DoulV38TMA","targetId":"_ZfWnkA49EDq7DoulV38TMA","type":"Triggering","name":"","documentation":""},{"id":"_1ILkwA49EDq7DoulV38TMA","sourceId":"_ZfWnkA49EDq7DoulV38TMA","targetId":"_n3nGkA49EDq7DoulV38TMA","type":"Triggering","name":"","documentation":""},{"id":"_CQHEUA4-EDq7DoulV38TMA","sourceId":"_n3nGkA49EDq7DoulV38TMA","targetId":"_5Gd_QA49EDq7DoulV38TMA","type":"Triggering","name":"","documentation":""},{"id":"_SadzEA4-EDq7DoulV38TMA","sourceId":"_5Gd_QA49EDq7DoulV38TMA","targetId":"_OPlHAA4-EDq7DoulV38TMA","type":"Triggering","name":"","documentation":""},{"id":"_VYbZAA4-EDq7DoulV38TMA","sourceId":"_OPlHAA4-EDq7DoulV38TMA","targetId":"_sYJkcA47EDq7DoulV38TMA","type":"Triggering","name":"","documentation":""},{"id":"_Wa4UgA4-EDq7DoulV38TMA","sourceId":"_OPlHAA4-EDq7DoulV38TMA","targetId":"_S6A10A4-EDq7DoulV38TMA","type":"Triggering","name":"","documentation":""},{"id":"_1i9aICXUEDqeZsBuoz9wnQ","sourceId":"_s7ZucCXUEDqeZsBuoz9wnQ","targetId":"_oFJ8wCXKEDqeZsBuoz9wnQ","type":"Triggering","name":"","documentation":""},{"id":"_u6nt0A1iEDqz_MblWIxtOg","sourceId":"_v81U0AzKEDqz_MblWIxtOg","targetId":"_NIyc8A1gEDqz_MblWIxtOg","type":"Specialization","name":"","documentation":""},{"id":"_lfBrMA1kEDqz_MblWIxtOg","sourceId":"_v81U0AzKEDqz_MblWIxtOg","targetId":"_29vPsA1iEDqz_MblWIxtOg","type":"Specialization","name":"","documentation":""},{"id":"_IJDHUA1yEDqz_MblWIxtOg","sourceId":"_VYo5oA1oEDqz_MblWIxtOg","targetId":"_AF_P0A1yEDqz_MblWIxtOg","type":"Serving","name":"","documentation":""},{"id":"_rs5vcA10EDqz_MblWIxtOg","sourceId":"_AF_P0A1yEDqz_MblWIxtOg","targetId":"_v81U0AzKEDqz_MblWIxtOg","type":"Association","name":"","documentation":""},{"id":"_7qDlUA2YEDqz_MblWIxtOg","sourceId":"_oEVrUA2KEDqz_MblWIxtOg","targetId":"_uoWpkA2YEDqz_MblWIxtOg","type":"Triggering","name":"","documentation":""},{"id":"_dhiAoA2aEDqz_MblWIxtOg","sourceId":"_BAMuIA2aEDqz_MblWIxtOg","targetId":"_aPzKIA2aEDqz_MblWIxtOg","type":"Specialization","name":"","documentation":""},{"id":"_eTbXoA2aEDqz_MblWIxtOg","sourceId":"_uoWpkA2YEDqz_MblWIxtOg","targetId":"_BeSNwA2ZEDqz_MblWIxtOg","type":"Association","name":"","documentation":""},{"id":"_e2oyYA2aEDqz_MblWIxtOg","sourceId":"_uoWpkA2YEDqz_MblWIxtOg","targetId":"_BAMuIA2aEDqz_MblWIxtOg","type":"Association","name":"","documentation":""},{"id":"_lFKxMA2aEDqz_MblWIxtOg","sourceId":"_aPzKIA2aEDqz_MblWIxtOg","targetId":"_h3DPYA2aEDqz_MblWIxtOg","type":"Specialization","name":"","documentation":""},{"id":"_LIM8EA2eEDqz_MblWIxtOg","sourceId":"_iu4H4A2dEDqz_MblWIxtOg","targetId":"_riJUUA2dEDqz_MblWIxtOg","type":"Association","name":"","documentation":""},{"id":"_Lu-BIA2eEDqz_MblWIxtOg","sourceId":"_riJUUA2dEDqz_MblWIxtOg","targetId":"_BZTN0A2eEDqz_MblWIxtOg","type":"Specialization","name":"","documentation":""},{"id":"_oDIsAA47EDq7DoulV38TMA","sourceId":"_0-ngcA46EDq7DoulV38TMA","targetId":"_HwrRQA47EDq7DoulV38TMA","type":"Triggering","name":"","documentation":""},{"id":"_TLtUsA48EDq7DoulV38TMA","sourceId":"_HwrRQA47EDq7DoulV38TMA","targetId":"_Kcqg8A48EDq7DoulV38TMA","type":"Triggering","name":"","documentation":""},{"id":"_mHld8A4-EDq7DoulV38TMA","sourceId":"_S6A10A4-EDq7DoulV38TMA","targetId":"_ePv_AA4-EDq7DoulV38TMA","type":"Triggering","name":"","documentation":""},{"id":"_o-ic8A4-EDq7DoulV38TMA","sourceId":"_z3C-8A47EDq7DoulV38TMA","targetId":"_ePv_AA4-EDq7DoulV38TMA","type":"Triggering","name":"","documentation":""},{"id":"_pbFPAA4-EDq7DoulV38TMA","sourceId":"_ePv_AA4-EDq7DoulV38TMA","targetId":"_z3C-8A47EDq7DoulV38TMA","type":"Triggering","name":"","documentation":""},{"id":"_hzmOUA5AEDq7DoulV38TMA","sourceId":"_lrGd4A2cEDqz_MblWIxtOg","targetId":"_iu4H4A2dEDqz_MblWIxtOg","type":"Triggering","name":"","documentation":""},{"id":"_dvvwkA7_EDq7DoulV38TMA","sourceId":"_z3C-8A47EDq7DoulV38TMA","targetId":"_HwrRQA47EDq7DoulV38TMA","type":"Triggering","name":"","documentation":""},{"id":"_bto-wA_XEDq7DoulV38TMA","sourceId":"_v81U0AzKEDqz_MblWIxtOg","targetId":"_TA0_oA_XEDq7DoulV38TMA","type":"Specialization","name":"","documentation":""},{"id":"_GehdACXNEDqeZsBuoz9wnQ","sourceId":"_oFJ8wCXKEDqeZsBuoz9wnQ","targetId":"_Wzk1UCXMEDqeZsBuoz9wnQ","type":"Triggering","name":"","documentation":""},{"id":"_g0gAUCXPEDqeZsBuoz9wnQ","sourceId":"_BjgCkCXPEDqeZsBuoz9wnQ","targetId":"_GcYdECXPEDqeZsBuoz9wnQ","type":"Triggering","name":"","documentation":""},{"id":"_oB2X0CXPEDqeZsBuoz9wnQ","sourceId":"_BjgCkCXPEDqeZsBuoz9wnQ","targetId":"_jWs3UCXPEDqeZsBuoz9wnQ","type":"Triggering","name":"","documentation":""},{"id":"_yzKlUCXPEDqeZsBuoz9wnQ","sourceId":"_GcYdECXPEDqeZsBuoz9wnQ","targetId":"_BjgCkCXPEDqeZsBuoz9wnQ","type":"Triggering","name":"","documentation":""},{"id":"_ttu_wCXTEDqeZsBuoz9wnQ","sourceId":"_jWs3UCXPEDqeZsBuoz9wnQ","targetId":"_Ha3hwCXTEDqeZsBuoz9wnQ","type":"Triggering","name":"","documentation":""},{"id":"_FTRtsCXUEDqeZsBuoz9wnQ","sourceId":"_BiQ6MCXUEDqeZsBuoz9wnQ","targetId":"_GcYdECXPEDqeZsBuoz9wnQ","type":"Triggering","name":"","documentation":""},{"id":"_GHTysCXUEDqeZsBuoz9wnQ","sourceId":"_GcYdECXPEDqeZsBuoz9wnQ","targetId":"_BiQ6MCXUEDqeZsBuoz9wnQ","type":"Triggering","name":"","documentation":""},{"id":"_Rpy-cCXUEDqeZsBuoz9wnQ","sourceId":"_BiQ6MCXUEDqeZsBuoz9wnQ","targetId":"_NV2dACXUEDqeZsBuoz9wnQ","type":"Triggering","name":"","documentation":""},{"id":"_ZQ22cCXUEDqeZsBuoz9wnQ","sourceId":"_NV2dACXUEDqeZsBuoz9wnQ","targetId":"_U1Rb8CXUEDqeZsBuoz9wnQ","type":"Triggering","name":"","documentation":""},{"id":"_lUuQ8CXUEDqeZsBuoz9wnQ","sourceId":"_cF6YACXUEDqeZsBuoz9wnQ","targetId":"_iJ7I4CXUEDqeZsBuoz9wnQ","type":"Triggering","name":"","documentation":""},{"id":"_lvao4CXUEDqeZsBuoz9wnQ","sourceId":"_U1Rb8CXUEDqeZsBuoz9wnQ","targetId":"_891FsCXTEDqeZsBuoz9wnQ","type":"Triggering","name":"","documentation":""},{"id":"_m1OaYCXUEDqeZsBuoz9wnQ","sourceId":"_U1Rb8CXUEDqeZsBuoz9wnQ","targetId":"_cF6YACXUEDqeZsBuoz9wnQ","type":"Triggering","name":"","documentation":""},{"id":"_nfkX4CXUEDqeZsBuoz9wnQ","sourceId":"_iJ7I4CXUEDqeZsBuoz9wnQ","targetId":"_GcYdECXPEDqeZsBuoz9wnQ","type":"Triggering","name":"","documentation":""},{"id":"_vNY_MCXUEDqeZsBuoz9wnQ","sourceId":"_iJ7I4CXUEDqeZsBuoz9wnQ","targetId":"_s7ZucCXUEDqeZsBuoz9wnQ","type":"Triggering","name":"","documentation":""}],"views":[{"id":"_7RWQ8yqVEey-A40W5C_9dw","name":"Описание событий","viewpoint":"","documentation":""},{"id":"_4eSJcA4zEDq7DoulV38TMA","name":"Архитектура макро","viewpoint":"","documentation":""},{"id":"_TlN2oCLREDqw2IzuZUOYvg","name":"archimate-diagram","viewpoint":"","documentation":""}]}