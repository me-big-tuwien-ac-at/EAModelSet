{"identifier":"me.big.tuwien.ac.at/EAModelSet/id-331497f3","archimateId":"id-331497f3","name":"10 Money","documentation":"","availableFormats":["JSON","XML","ARCHIMATE","CSV"],"source":"GitHub","sourceFile":"raw-data/github/xml/Money.xml","sourceFormat":"XML","timestamp":"25-06-2023 05:52:03","tags":[],"duplicates":[],"language":"","elements":[{"id":"id-21fb2ce3","name":"class money","type":"ApplicationComponent","layer":"application","documentation":""},{"id":"aba25289","name":"amount LONG","type":"DataObject","layer":"application","documentation":""},{"id":"id-7ed92f97","name":"REF to currency","type":"DataObject","layer":"application","documentation":""},{"id":"f2abd58e","name":"+ (money object)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"id-1d08ac9a","name":"- (money object)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"id-3cb65afe","name":"* (bigdecimal, rounding mode)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"id-65841406","name":"allocate(proportions X:Y:Z)","type":"ApplicationFunction","layer":"application","documentation":"class Money... \r\n\r\n   public Money[] allocate(int n) {\r\n      Money lowResult = newMoney(amount / n);\r\n      Money highResult = newMoney(lowResult.amount + 1);\r\n      Money[] results = new Money[n];\r\n      int remainder = (int) amount % n;\r\n      for (int i = 0; i < remainder; i++) results[i] = highResult;\r\n      for (int i = remainder; i < n; i++) results[i] = lowResult;\r\n      return results;\r\n   }\r\n\r\nБолее сложный алгоритм распределения может поделить деньги в любой заданной пропорции.\r\n\r\nclass Money... \r\n\r\n   public Money[] allocate(long[] ratios) {\r\n      long total = 0;\r\n      for (int i = 0; i < ratios.length; i++) total += ratios[i];\r\n      long remainder = amount;\r\n      Money[] results = new Money[ratios.length];\r\n      for (int i = 0; i < results.length; i++) {\r\n         results[i] = newMoney(amount * ratios[i] / total);\r\n         remainder -= results[i].amount;\r\n      }\r\n      for (int i = 0; i < remainder; i++) {\r\n         results[i].amount++;\r\n      }\r\n      return results;\r\n   }\r\n\r\nДанный алгоритм можно применить для решения задачки Мэтью Фоммела (Matthew Foemmel).\r\n\r\nclass Money... \r\n\r\n   public void testAllocate2() {\r\n      long[] allocation = {3,7};\r\n      Money[] result = Money.dollars(0.05).allocate(allocation);\r\n      assertEquals(Money.dollars(0.02), result[0]);\r\n      assertEquals(Money.dollars(0.03), result[1]);\r\n   }"},{"id":"c0338fec","name":">","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"ba5e9d70","name":"<","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"id-98c75c3d","name":">=","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"id-4001b3a0","name":"<=","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"b64ba578","name":"=","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"id-36132d44","name":"Application Process","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-34328e8c","name":"money left over after rounding distributed between all parts of the proportion $:$:$ of randomly","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-19f9348a","name":"return $,$,$","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-312f0e35","name":"find $,$,$                        where    $:$:$=X:Y:Z             and  $+$+$=amount","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"f81b343d","name":"class currency","type":"ApplicationComponent","layer":"application","documentation":""},{"id":"id-39fe1275","name":"get default fraction digits","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"dc9d47db","name":"currency","type":"DataObject","layer":"application","documentation":""},{"id":"id-31e83fad","name":"construnctor (amount, currency obj)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"id-96001353","name":"amount *10^currencyObj.getDefaultFractionDigits","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-8d2aee58","name":"fabric for dollars (amount)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"id-7ec0541c","name":"return Money(amount, Currency.USD)","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"ffe5adda","name":"equals (some object)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"id-3a83d854","name":"equals (money object)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"id-0ba19a9b","name":"validate that object of Money type","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-94ae56d1","name":"some object EQUAL this","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-0517fd9a","name":"validate that  object.currency EQUAL this.currency","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-48d26aba","name":"validate that  object.amount == this.amount","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-5f781f9e","name":"hashCode ()","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"id-4cf8022b","name":"return (int) (amount ^ (amount >>> 32))","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"c19c7fd3","name":"check that the money in the same currency","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-596e2af0","name":"return Money (this.amount +moneyObj.amount)","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"fe93d6dd","name":"check that the money in the same currency","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-2bb210fc","name":"return Money (this.amount - moneyObj.amount )","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-9446333b","name":"check that the money in the same currency","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-8a5a6c74","name":"return Money (this.amount *moneyObj.amount, currency,rounding mode)","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-74e410f7","name":"Currency Converter","type":"ApplicationComponent","layer":"application","documentation":""},{"id":"id-1723971b","name":"compare (some object)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"id-9f683978","name":"compare (money object)","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"e1a642d8","name":"call","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-76bfbc4b","name":"check that the money in the same currency","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-81f6e521","name":"if this.amount>object.amount","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-5ce7b2ee","name":"return true","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"id-0daaebae","name":"else return false","type":"ApplicationProcess","layer":"application","documentation":""},{"id":"c7d49d32-2acf-46ef-8917-42b7e960396e","name":"amount()","type":"ApplicationFunction","layer":"application","documentation":""},{"id":"id-10fd17f6-eae9-4cd6-8431-9379dc0e633e","name":"return amount *10^(-currencyObj.getDefaultFractionDigits)","type":"ApplicationProcess","layer":"application","documentation":""}],"relationships":[{"id":"da43ca9e","sourceId":"id-21fb2ce3","targetId":"aba25289","type":"Access","name":"","documentation":""},{"id":"d47aa070","sourceId":"id-21fb2ce3","targetId":"id-7ed92f97","type":"Access","name":"","documentation":""},{"id":"cfa73f61","sourceId":"id-21fb2ce3","targetId":"f2abd58e","type":"Assignment","name":"","documentation":""},{"id":"id-6e07808d","sourceId":"id-21fb2ce3","targetId":"id-1d08ac9a","type":"Assignment","name":"","documentation":""},{"id":"id-124362ab","sourceId":"id-21fb2ce3","targetId":"id-3cb65afe","type":"Assignment","name":"","documentation":""},{"id":"a706f368","sourceId":"id-21fb2ce3","targetId":"id-65841406","type":"Assignment","name":"","documentation":""},{"id":"id-0570a2bf","sourceId":"id-21fb2ce3","targetId":"c0338fec","type":"Assignment","name":"","documentation":""},{"id":"id-5379fb17","sourceId":"id-21fb2ce3","targetId":"ba5e9d70","type":"Assignment","name":"","documentation":""},{"id":"id-232eef49","sourceId":"id-21fb2ce3","targetId":"id-98c75c3d","type":"Assignment","name":"","documentation":""},{"id":"bdee38ce","sourceId":"id-21fb2ce3","targetId":"id-4001b3a0","type":"Assignment","name":"","documentation":""},{"id":"id-395c970a","sourceId":"id-21fb2ce3","targetId":"b64ba578","type":"Assignment","name":"","documentation":""},{"id":"id-916a7630","sourceId":"id-65841406","targetId":"id-36132d44","type":"Composition","name":"","documentation":""},{"id":"d3182254","sourceId":"id-65841406","targetId":"id-34328e8c","type":"Composition","name":"","documentation":""},{"id":"dae596a7","sourceId":"id-65841406","targetId":"id-19f9348a","type":"Composition","name":"","documentation":""},{"id":"id-7d4d3022","sourceId":"id-65841406","targetId":"id-312f0e35","type":"Composition","name":"","documentation":""},{"id":"id-45930da5","sourceId":"f81b343d","targetId":"id-39fe1275","type":"Assignment","name":"","documentation":""},{"id":"id-2b2c1f23","sourceId":"id-7ed92f97","targetId":"f81b343d","type":"Association","name":"","documentation":""},{"id":"e3e56127","sourceId":"f81b343d","targetId":"dc9d47db","type":"Access","name":"","documentation":""},{"id":"id-314aca76","sourceId":"id-21fb2ce3","targetId":"id-31e83fad","type":"Assignment","name":"","documentation":""},{"id":"id-9aef9514","sourceId":"id-31e83fad","targetId":"id-96001353","type":"Composition","name":"","documentation":""},{"id":"id-50a0c84c","sourceId":"id-96001353","targetId":"id-39fe1275","type":"Triggering","name":"","documentation":""},{"id":"id-60a1152a","sourceId":"id-21fb2ce3","targetId":"id-8d2aee58","type":"Assignment","name":"","documentation":""},{"id":"b20e4fc7","sourceId":"id-8d2aee58","targetId":"id-7ec0541c","type":"Composition","name":"","documentation":""},{"id":"ca99e40e","sourceId":"id-7ec0541c","targetId":"id-31e83fad","type":"Triggering","name":"","documentation":""},{"id":"id-3338c4e7","sourceId":"id-21fb2ce3","targetId":"ffe5adda","type":"Assignment","name":"","documentation":""},{"id":"id-8582dc4e","sourceId":"id-21fb2ce3","targetId":"id-3a83d854","type":"Assignment","name":"","documentation":""},{"id":"id-5806bfa4","sourceId":"ffe5adda","targetId":"id-0ba19a9b","type":"Composition","name":"","documentation":""},{"id":"f6e84fe0","sourceId":"ffe5adda","targetId":"id-94ae56d1","type":"Composition","name":"","documentation":""},{"id":"id-20f5617b","sourceId":"id-94ae56d1","targetId":"id-3a83d854","type":"Triggering","name":"","documentation":""},{"id":"id-6e90b884","sourceId":"id-3a83d854","targetId":"id-0517fd9a","type":"Composition","name":"","documentation":""},{"id":"id-7e5c833b","sourceId":"id-3a83d854","targetId":"id-48d26aba","type":"Composition","name":"","documentation":""},{"id":"id-4c794baa","sourceId":"id-21fb2ce3","targetId":"id-5f781f9e","type":"Assignment","name":"","documentation":""},{"id":"id-6efea019","sourceId":"id-5f781f9e","targetId":"id-4cf8022b","type":"Composition","name":"","documentation":""},{"id":"id-76072d6d","sourceId":"f2abd58e","targetId":"c19c7fd3","type":"Composition","name":"","documentation":""},{"id":"ad0c0c31","sourceId":"f2abd58e","targetId":"id-596e2af0","type":"Composition","name":"","documentation":""},{"id":"a7c59f5a","sourceId":"id-1d08ac9a","targetId":"fe93d6dd","type":"Composition","name":"","documentation":""},{"id":"id-10720e9a","sourceId":"id-1d08ac9a","targetId":"id-2bb210fc","type":"Composition","name":"","documentation":""},{"id":"id-263047da","sourceId":"id-3cb65afe","targetId":"id-9446333b","type":"Composition","name":"","documentation":""},{"id":"a447baef","sourceId":"id-3cb65afe","targetId":"id-8a5a6c74","type":"Composition","name":"","documentation":""},{"id":"fae8c7eb","sourceId":"id-21fb2ce3","targetId":"id-1723971b","type":"Assignment","name":"","documentation":""},{"id":"id-315d2698","sourceId":"id-21fb2ce3","targetId":"id-9f683978","type":"Assignment","name":"","documentation":""},{"id":"d09e187b","sourceId":"id-1723971b","targetId":"e1a642d8","type":"Composition","name":"","documentation":""},{"id":"id-00b2568b","sourceId":"e1a642d8","targetId":"id-9f683978","type":"Triggering","name":"","documentation":""},{"id":"id-8769bb04","sourceId":"id-9f683978","targetId":"id-76bfbc4b","type":"Composition","name":"","documentation":""},{"id":"id-67ca0c56","sourceId":"id-9f683978","targetId":"id-81f6e521","type":"Composition","name":"","documentation":""},{"id":"fdb654ff","sourceId":"id-81f6e521","targetId":"id-5ce7b2ee","type":"Composition","name":"","documentation":""},{"id":"d79a6718","sourceId":"id-81f6e521","targetId":"id-0daaebae","type":"Composition","name":"","documentation":""},{"id":"id-8a6e74e2","sourceId":"c0338fec","targetId":"id-9f683978","type":"Triggering","name":"","documentation":""},{"id":"id-748e0945","sourceId":"ba5e9d70","targetId":"id-9f683978","type":"Triggering","name":"","documentation":""},{"id":"ee315675","sourceId":"id-21fb2ce3","targetId":"id-9f683978","type":"Triggering","name":"","documentation":""},{"id":"d9862f9d","sourceId":"id-4001b3a0","targetId":"id-9f683978","type":"Triggering","name":"","documentation":""},{"id":"id-0ecdd05f","sourceId":"id-98c75c3d","targetId":"id-9f683978","type":"Triggering","name":"","documentation":""},{"id":"id-600181f3-8d05-4fc6-b52a-43deb22c56fb","sourceId":"c7d49d32-2acf-46ef-8917-42b7e960396e","targetId":"id-10fd17f6-eae9-4cd6-8431-9379dc0e633e","type":"Composition","name":"","documentation":""},{"id":"id-24e19d51-4c57-4234-9541-75e62491e300","sourceId":"id-10fd17f6-eae9-4cd6-8431-9379dc0e633e","targetId":"id-39fe1275","type":"Triggering","name":"","documentation":""}],"views":[{"id":"id-9db917b5","name":"Money","viewpoint":"","documentation":""}]}